<odoo>
    <template id="website_pragmatic_assets_frontend" inherit_id="website.assets_frontend">
        <xpath expr="." position="inside">
            <link rel="stylesheet" href="/l10n_pe_signup_website/static/src/css/selectize.css"/>
        </xpath>
    </template>
    <template id="assest_frontend_pragmatic_website" name="pragmatic_website_assest_frontend"
              inherit_id="website.assets_frontend">
        <xpath expr="script[last()]" position="after">
            <script type="text/javascript" src='/l10n_pe_signup_website/static/src/js/selectize.js'></script>
            <script type="text/javascript" src="/l10n_pe_signup_website/static/src/js/address.js"></script>
        </xpath>
    </template>
    <template id="address_form_localization_website" inherit_id="website_sale.address"
              name="Location Address">
        <xpath expr="." position="inside">
            <link rel="stylesheet" href="/l10n_pe_signup_website/static/src/css/selectize.css"/>
        </xpath>
        <xpath expr="//div[@id='wrap']//div[@class='row'][2]" position="replace">
            <div class="row">
                <div class="col-12 col-xl-auto order-xl-2 d-none d-xl-block">
                    <t t-call="website_sale.cart_summary">
                        <t t-set="hide_coupon">True</t>
                        <t t-set="redirect" t-valuef="/shop/address"/>
                    </t>
                </div>
                <div class="col-12 col-xl order-xl-1 oe_cart">
                    <div>
                        <t t-if="mode == ('new', 'billing')">
                            <h2 class="o_page_header mt8">Your Address
<!--                                <small>or</small>-->
                                <!--                                <a role="button" href='/web/login?redirect=/shop/checkout' class='btn btn-primary'-->
                                <!--                                   style="margin-top: -11px">Log In-->
                                <!--                                </a>-->
                            </h2>
                        </t>
                        <t t-if="mode == ('edit', 'billing')">
                            <h2 class="o_page_header mt8">Your Address</h2>
                        </t>
                        <t t-if="mode[1] == 'shipping'">
                            <h2 class="o_page_header mt8">Shipping Address</h2>
                        </t>
                        <t t-if="partner_id == website_sale_order.partner_shipping_id.id == website_sale_order.partner_invoice_id.id">
                            <div class="alert alert-warning" role="alert" t-if="not only_services">
                                <h4 class="alert-heading">Be aware!</h4>
                                <p groups="sale.group_delivery_invoice_address">
                                    You are editing your <b>billing and shipping</b> addresses at the same time!
                                    <br/>
                                    If you want to modify your shipping address, create a <a href='/shop/address'>new
                                    address</a>.
                                </p>
                            </div>
                        </t>
                        <t t-if="error" t-foreach="error.get('error_message', [])" t-as="err">
                            <h5 class="text-danger" t-esc="err"/>
                        </t>
                        <form action="/shop/address" method="post" class="checkout_autoformat">
                            <!--                            <div class="form-row" t-if="logged == 0">-->
                            <!--                                <div class="form-group col">-->
                            <!--                                    <label class="control-label">Type</label>-->
                            <!--                                </div>-->
                            <!--                                <div class="form-group col">-->
                            <!--                                    <input class="form-check-input" type="radio" name="company_type"-->
                            <!--                                           value="person" id="company_type_person" required="true"-->
                            <!--                                           t-att-checked="'checked' if 'company_type' in checkout and checkout['company_type'] == 'person' else None"/>-->
                            <!--                                    <label class="form-check-label" for="company_type_person">Person</label>-->
                            <!--                                </div>-->
                            <!--                                <div class="form-group col">-->
                            <!--                                    <input class="form-check-input" type="radio" name="company_type" value="company"-->
                            <!--                                           id="company_type_company"-->
                            <!--                                           t-att-checked="'checked' if 'company_type' in checkout and checkout['company_type'] == 'company' else None"/>-->
                            <!--                                    <label class="form-check-label" for="company_type_company">Company</label>-->
                            <!--                                </div>-->
                            <!--                            </div>-->
                            <!--                            <div class="form-row" t-if="logged != 0 and document==0">-->
                            <!--                                <div class="form-group col">-->
                            <!--                                    <label class="control-label">Type</label>-->
                            <!--                                </div>-->
                            <!--                                <div class="form-group col">-->
                            <!--                                    <input class="form-check-input" type="radio" name="company_type"-->
                            <!--                                           value="person" id="company_type_person" required="true"-->
                            <!--                                           t-att-checked="'checked' if 'company_type' in checkout and checkout['company_type'] == 'person' else None"/>-->
                            <!--                                    <label class="form-check-label" for="company_type_person">Person</label>-->
                            <!--                                </div>-->
                            <!--                                <div class="form-group col">-->
                            <!--                                    <input class="form-check-input" type="radio" name="company_type" value="company"-->
                            <!--                                           id="company_type_company"-->
                            <!--                                           t-att-checked="'checked' if 'company_type' in checkout and checkout['company_type'] == 'company' else None"/>-->
                            <!--                                    <label class="form-check-label" for="company_type_company">Company</label>-->
                            <!--                                </div>-->
                            <!--                            </div>-->
                            <div class="form-row">
                                <div t-attf-class="form-group #{error.get('name') and 'o_has_error' or ''} col-lg-12 div_name"
                                     id="div_name">
                                    <label class="col-form-label" for="name">Name</label>
                                    <input type="text" name="name"
                                           t-attf-class="form-control #{error.get('name') and 'is-invalid' or ''}"
                                           t-att-value="'name' in checkout and checkout['name']"/>
                                    <input type="hidden" name="company_type" value="company"/>
                                </div>
                                <div t-if="logged == 0"
                                     t-attf-class="form-group #{error.get('l10n_latam_identification_type_id') and 'o_has_error' or ''} col-md-6 div_l10n_latam_identification_type_id">
                                    <label for="l10n_latam_identification_type_id" class="control-label">Document Type
                                    </label>
                                    <select name="l10n_latam_identification_type_id"
                                            id="l10n_latam_identification_type_id"
                                            t-attf-class="#{error.get('l10n_latam_identification_type_id') and 'is-invalid' or ''}"></select>
                                </div>
                                <div t-if="logged != 0 and document==0"
                                     t-attf-class="form-group #{error.get('l10n_latam_identification_type_id') and 'o_has_error' or ''} col-md-6 div_l10n_latam_identification_type_id">
                                    <label for="l10n_latam_identification_type_id" class="control-label">Document Type
                                    </label>
                                    <select name="l10n_latam_identification_type_id"
                                            id="l10n_latam_identification_type_id"
                                            t-attf-class="#{error.get('l10n_latam_identification_type_id') and 'is-invalid' or ''}"></select>
                                </div>
                                <t t-if="mode[1] == 'billing'">
                                    <div t-if="logged != 0"
                                         t-attf-class="form-group #{error.get('email') and 'o_has_error' or ''} col-md-6 div_email"
                                         id="email">
                                        <label class="control-label" for="email">Email</label>
                                        <input type="email" name="email"
                                               t-attf-class="form-control #{error.get('email') and 'is-invalid' or ''}"
                                               t-att-value="'email' in checkout and checkout['email']"/>
                                    </div>
                                </t>
                                <div t-if="logged == 0"
                                     t-attf-class="form-group #{error.get('vat') and 'o_has_error' or ''} col-md-6 div_vat">
                                    <label for="vat" class="control-label">VAT</label>
                                    <input type="text" id="vat" name="vat"
                                           t-attf-class="form-control #{error.get('vat') and 'is-invalid' or ''}"
                                           t-att-value="'vat' in checkout and checkout['vat']"/>
                                </div>
                                <div t-if="logged != 0 and document==0"
                                     t-attf-class="form-group #{error.get('vat') and 'o_has_error' or ''} col-md-6 div_vat">
                                    <label for="vat" class="control-label">VAT</label>
                                    <input type="text" id="vat" name="vat"
                                           t-attf-class="form-control #{error.get('vat') and 'is-invalid' or ''}"
                                           t-att-value="'vat' in checkout and checkout['vat']"/>
                                </div>
                                <t t-if="mode[1] == 'billing'">
                                    <div t-if="logged == 0"
                                         t-attf-class="form-group #{error.get('email') and 'o_has_error' or ''} col-md-6 div_email"
                                         id="email">
                                        <label class="control-label" for="email">Email</label>
                                        <input type="email" name="email"
                                               t-attf-class="form-control #{error.get('email') and 'is-invalid' or ''}"
                                               t-att-value="'email' in checkout and checkout['email']"/>
                                    </div>
                                </t>
                                <!--                                <div t-if="logged == 0"-->
                                <!--                                     t-attf-class="form-group #{error.get('password') and 'o_has_error' or ''} col-md-6 div_password"-->
                                <!--                                     id="password">-->
                                <!--                                    <label class="control-label" for="password">Password</label>-->
                                <!--                                    <input type="password" name="password"-->
                                <!--                                           t-attf-class="form-control #{error.get('password') and 'is-invalid' or ''}"-->
                                <!--                                           t-att-value="'password' in checkout and checkout['password']"/>-->
                                <!--                                </div>-->
                                <div t-attf-class="form-group #{error.get('phone') and 'o_has_error' or ''} col-md-6 div_phone"
                                     id="phone">
                                    <label class="control-label" for="phone">Phone</label>
                                    <input type="tel" name="phone"
                                           t-attf-class="form-control #{error.get('phone') and 'is-invalid' or ''}"
                                           t-att-value="'phone' in checkout and checkout['phone']"/>
                                </div>
                                <div t-if="logged != 0"
                                     t-attf-class="form-group #{error.get('street') and 'o_has_error' or ''} col-md-6 div_street">
                                    <label class="control-label" for="street">Street
                                        <span class="d-none d-md-inline">and Number</span>
                                    </label>
                                    <input type="text" name="street"
                                           t-attf-class="form-control #{error.get('street') and 'is-invalid' or ''}"
                                           t-att-value="'street' in checkout and checkout['street']"/>
                                </div>
                                <div t-if="logged == 0"
                                     t-attf-class="form-group #{error.get('street') and 'o_has_error' or ''} col-md-6 div_street">
                                    <label class="control-label" for="street">Street
                                        <span class="d-none d-md-inline">and Number</span>
                                    </label>
                                    <input type="text" name="street"
                                           t-attf-class="form-control #{error.get('street') and 'is-invalid' or ''}"
                                           t-att-value="'street' in checkout and checkout['street']"/>
                                </div>
                                <div t-if="logged != 0"
                                     t-attf-class="form-group #{error.get('country_id') and 'o_has_error' or ''} col-md-6 div_pragma_country_id">
                                    <label for="country_id" class="control-label">Country
                                    </label>
                                    <select name="country_id"
                                            id="pragma_country_id" placeholder="Country"
                                            t-attf-class="#{error.get('country_id') and 'is-invalid' or ''}"></select>
                                </div>
                                <div t-if="logged == 0"
                                     t-attf-class="form-group #{error.get('country_id') and 'o_has_error' or ''} col-md-6 div_pragma_country_id">
                                    <label for="country_id" class="control-label">Country
                                    </label>
                                    <select name="country_id"
                                            id="pragma_country_id" placeholder="Country"
                                            t-attf-class="#{error.get('country_id') and 'is-invalid' or ''}"></select>
                                </div>
                                <div t-attf-class="form-group #{error.get('l10n_pe_district') and 'o_has_error' or ''} col-md-6 div_l10n_pe_district">
                                    <label for="l10n_pe_district" class="control-label">District
                                    </label>
                                    <select name="l10n_pe_district"
                                            id="l10n_pe_district" placeholder="District"
                                            t-attf-class="#{error.get('l10n_pe_district') and 'is-invalid' or ''}"
                                            t-att-value="'l10n_pe_district' in checkout and checkout['l10n_pe_district']"></select>
                                </div>
                                <div t-attf-class="form-group #{error.get('zip') and 'o_has_error' or ''} col-md-6 div_zip">
                                    <label class="control-label" for="zip">Zip Code</label>
                                    <input type="text" name="zip" id="zip"
                                           t-attf-class="form-control #{error.get('zip') and 'is-invalid' or ''}"
                                           t-att-value="'zip' in checkout and checkout['zip']" readonly="1"/>
                                </div>
                            </div>
                            <div class="form-row">
                                <t t-if="mode == ('new', 'billing') and not only_services">
                                    <div class="col-lg-12">
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox" id='shipping_use_same' class="mr8"
                                                       name='use_same' value="1" checked='checked'/>Ship to the same
                                                address
                                                <span class='ship_to_other text-muted' style="display: none">&amp;nbsp;(
                                                    <i>Your shipping address will be requested later)</i>
                                                </span>
                                            </label>
                                        </div>
                                    </div>
                                </t>
                            </div>
                            <div class="form-row">
                                <t t-if="has_terms==True and logged == 0">
                                    <div class="col-lg-12">
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox" id='shipping_terms' class="mr8"
                                                       name='shipping_terms' value="1"/>
                                                (*) I accept the
                                                <a style="text-decoration: underline;"
                                                   t-att-href="terms_link" target="_blank">terms and
                                                    conditions
                                                </a>
                                            </label>
                                        </div>
                                    </div>
                                </t>
                                <t t-if="has_terms==True and logged != 0 and document==0">
                                    <div class="col-lg-12">
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox" id='shipping_terms' class="mr8"
                                                       name='shipping_terms' value="1"/>
                                                (*) I accept the
                                                <a style="text-decoration: underline;"
                                                   t-att-href="terms_link" target="_blank">terms and
                                                    conditions
                                                </a>
                                            </label>
                                        </div>
                                    </div>
                                </t>
                            </div>
                            <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                            <input type="hidden" name="submitted" value="1"/>
                            <input type="hidden" name="partner_id" t-att-value="partner_id or '0'"/>
                            <input type="hidden" name="callback" t-att-value="callback"/>
                            <input type="hidden" id="selected_l10n_pe_district"
                                   t-att-value="'l10n_pe_district' in checkout and checkout['l10n_pe_district']"/>
                            <input type="hidden" id="selected_country_id"
                                   t-att-value="'country_id' in checkout and checkout['country_id']"/>
                            <input t-if="logged != 0" type="hidden"
                                   id="selected_l10n_latam_identification_type_id"
                                   name="l10n_latam_identification_type_id"
                                   t-att-value="'l10n_latam_identification_type_id' in checkout and checkout['l10n_latam_identification_type_id']"/>
                            <input t-if="logged != 0" type="hidden" id="selected_company_type"
                                   name="company_type"
                                   t-att-value="'company_type' in checkout and checkout['company_type']"/>
                            <input t-if="logged != 0" type="hidden" id="selected_vat" name="vat"
                                   t-att-value="'vat' in checkout and checkout['vat']"/>
                            <input type="hidden" id="city" t-att-value="'city' in checkout and checkout['city']"/>
                            <!-- Example -->
                            <t t-if="mode == ('new', 'billing')">
                                <input type="hidden" name="field_required"
                                       t-att-value="'name,zip,l10n_pe_district'"/>
                            </t>
                            <t t-if="mode[1] == 'shipping'">
                                <input type="hidden" name="field_required"
                                       t-att-value="'phone,name,zip,l10n_pe_district,street'"/>
                            </t>
                            <div class="d-flex justify-content-between">
                                <a role="button"
                                   t-att-href="mode == ('new', 'billing') and '/shop/cart' or '/shop/checkout'"
                                   class="btn btn-secondary mb32">
                                    <i class="fa fa-chevron-left"/>
                                    <span>Back</span>
                                </a>
                                <a role="button" href="#"
                                   class="btn btn-primary mb32 a-submit a-submit-disable a-submit-loading">
                                    <span>Next</span>
                                    <i class="fa fa-chevron-right"/>
                                </a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </xpath>
    </template>
</odoo>